<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Slides | CS 221 - C and Systems Programming</title>
    <meta name="description" content="">
    <meta name="author" content="Phil Peterson">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--Favicon-->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <!-- Canonical -->
    <link rel="canonical" href="/slides/python">

    <!-- RSS -->
    <link rel="alternate" type="application/atom+xml" title="CS 221 - C and Systems Programming" href="/feed.xml"/>

    <!-- Code highlighting theme used for highlight.js in reveal.js slides -->
    <link rel="stylesheet" href="/assets/plugin/highlight/classic-like.css">

		<!-- Code highlighting theme used for rouge in jekyll pages
    <link rel="stylesheet" href="/assets/css/rouge-highlight/github-dark.css">
    -->
    <!-- Reveal CSS -->
    <link rel="stylesheet" href="/assets/dist/reset.css">
    <link rel="stylesheet" href="/assets/dist/reveal.css">
    <link rel="stylesheet" href="/assets/dist/theme/dons.css" id="theme">

</head>

<body>
<div class="reveal">
    <div class="slides">

        <section data-markdown
                 data-separator="^---"
                 data-separator-vertical="^___"
                 data-charset="utf-8"
                 data-notes="^Note:">
            <script type="text/template"># C For Python Programmers
---
## Some Similarities

Python
```python
def main:
    print('hello world')
    
if __name__ == 'main':
	main()
```
C
```c
int main(int argc, char **argv) {
	printf("hello world\n");
	return 0;
}
```
___
- Both are _imperative_ languages, like Algol, Pascal, Java

- Both have functions with variables and control flow
---
# Syntax Differences 
(not comprehensive)
---
## Statements
Python
```python
i = 1
j = 2
```
C
```c
i = 1;
j = 2;
```
___
- In Python, newlines separate statements

- In C, semicolons terminate statements
---
## Comments
Python
```python
i += 1  # increment i
```
C
```c
i++; /* increment i */
i++; // increment i
```
---
## Code Blocks

Python
```python
if something:
    i = i + 1
else:
    i = i + 2
```
C
```c
if (something) {
    i = i + 1;
} else {
    i = i + 2;
}
___
- In Python, code blocks are inferred from indentation

- In C, code blocks are given by curly braces. 
Whitespace (spaces, tabs, newlines) is ignored.
---
## Type System

Python
```python
x = 1
y = 9.8
```
C
```c
int x = 1;
float y = 9.8;
```
___
- In python, the type of an object is inferred by the interpreter at runtime.
This is called _dynamic_ typing.

- In C, the data type is given before a variable name. Type compatibility
is checked at compile-time. This is called _static_ typing.
    - All names (types, variables, functions) must be _declared_ with a type 
    of known size before you use them
___
Python: sure
```python
i = 1
s = "foo"
s = i
```
C: nope
```c
int i = 1;
char *s = "foo";
s = i;
---
# Philosophical Differences
---
## Memory Management

Python
```python
a_string = 'foobar'
another_string = a_string  # makes a copy
```
C, using stack memory
```c
char a_string[32];
strncpy(a_string, "foobar", 32);
char another_string[32];
strncpy(another_string, a_string, 32);  /* makes a copy */
```
___
- Python manages memory using a _garbage collector_ which pauses program
execution periodically to free unused memory

- C programmers manage memory themselves, which is faster, but extremely error prone
___
## Strings

- Python: strings are objects containing Unicode characters, with an API 
provided by the Python runtime

- C: strings are a sequence of ASCII bytes, terminated by a '\0' (NULL character). 
Much more on this later.
---
## Execution Model

- Python: source code -> bytecode -> virtual machine -> microprocessor

- C: source code -> machine code -> microprocessor

___
- The python interpreter and virtual machine are written in C

- Machine code (a.k.a. _binary_ or _object_ code) generated by an 
optimizing C compiler is very efficient
---
# Unique features of C
(and C-like languages)
---
## The Preprocessor

- C allows textual substitution of names in source code before compiling
the source code

- Preprocessor directives start with a pound/hash sign '#'
___
## Macros

A macro is like a global find/replace in a source file. Examples:
```c
#define FOO "foo"
#define MAX_STR 32
#define ADD(a,b) (a) + (b)

char str[MAX_STR];
strncpy(str, FOO, MAX_STR);
```
___
## Header files

A header (.h) file contains types, constants, and function declarations, 
grouped into a reusable file for modularity. Foo.h might contain:
```c
#define MAX_FOO 99

int do_foo(char *);  /* this declares the function do_foo() */
```

You can use `foo.h` in `foo.c` like this:
```c
#include "foo.h"

int i = do_foo("bar");
```
___
## System header files

In order to use functions defined in the C standard library, you need to
#include them like this:

```c
/* printf() is declared in stdio.h */
#include < stdio.h>

/* void means nothing, no return value */
void print_foo() {
    /* if we didn't include stdio.h this would not compile */
    printf("foo\n");
}
```
---
## Summary - Python

- The Python runtime environment hides a lot of complexity from programmers

- Python optimizes for programmer productivity over performance

- Modern processors are so fast that for small projects, it's a good tradeoff

___
## Summary - C

- C is relevant when performance is paramount, but provides much less help

- Motto: "No Hidden Mechanism"

- We will use C to get one step closer to understanding the machine
</script>
        </section>

    </div>
</div>
<script src="/assets/dist/reveal.js"></script>
<script src="/assets/plugin/markdown/markdown.js"></script>
<script src="/assets/plugin/highlight/highlight.js"></script>
<script src="/assets/plugin/search/search.js"></script>
<script src="/assets/plugin/zoom/zoom.js"></script>
<script src="/assets/plugin/notes/notes.js"></script>
<script src="/assets/plugin/math/math.js"></script>
<script>
  // https://revealjs.com/config/

  Reveal.initialize({
    // Display presentation control arrows
    controls: true,

    // Determines where controls appear, "edges" or "bottom-right"
    controlsLayout: 'bottom-right',

    // Visibility rule for backwards navigation arrows; "faded", "hidden"
    // or "visible"
    controlsBackArrows: 'faded',

    // Display a presentation progress bar
    progress: true,

    // Enable keyboard shortcuts for navigation
    keyboard: true,

    // Vertical centering of slides
    center: true,

    // Enable the slide overview mode
    overview: true,

    // Enables touch navigation on devices with touch input
    touch: true,

    // Add the current slide number to the URL hash so that reloading the
    // page/copying the URL will return you to the same slide
    hash: true,

    // Push each slide change to the browser history.  Implies `hash: true`
    history: false,

    transition: 'slide',

    // Display the page number of the current slide
    // - true:    Show slide number
    // - false:   Hide slide number
    //
    // Can optionally be set as a string that specifies the number formatting:
    // - "h.v":   Horizontal . vertical slide number (default)
    // - "h/v":   Horizontal / vertical slide number
    // - "c":   Flattened slide number
    // - "c/t":   Flattened slide number / total slides
    //
    // Alternatively, you can provide a function that returns the slide
    // number for the current slide. The function should take in a slide
    // object and return an array with one string [slideNumber] or
    // three strings [n1,delimiter,n2]. See #formatSlideNumber().
    slideNumber:  'c' ,


    // Can be used to limit the contexts in which the slide number appears
    // - "all":      Always show the slide number
    // - "print":    Only when printing to PDF
    // - "speaker":  Only in the speaker view
    showSlideNumber: 'all',

    // https://revealjs.com/plugins/#built-in-plugins
    plugins: [
      RevealMarkdown,
      RevealHighlight,
      RevealSearch,
      RevealZoom,
      RevealNotes,
      RevealMath
    ]
  });
</script>

</body>
</html>
