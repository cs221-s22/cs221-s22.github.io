<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Lab01 - Environment Setup | CS 221 - C and Systems Programming</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Lab01 - Environment Setup" />
<meta name="author" content="Phil Peterson" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Login to stargate Choose a terminal app for your laptop. There are many options but here are a few: Windows: Windows Terminal, PuTTY, Windows Subsystem for Linux (which is what I use) macOS: Apple’s built-in terminal.app, iTerm2 (which is what I use) Use your terminal app to ssh to stargate $ ssh username@stargate.cs.usfca.edu replacing username with your USF login ID. The password is your USF CWID. You should see: The authenticity of host &#39;remote-host&#39; can&#39;t be established... Are you sure you want to continue connecting? (yes/no) yes username@stargate $ Type ^D (CTRL-d) to exit the ssh session." />
<meta property="og:description" content="Login to stargate Choose a terminal app for your laptop. There are many options but here are a few: Windows: Windows Terminal, PuTTY, Windows Subsystem for Linux (which is what I use) macOS: Apple’s built-in terminal.app, iTerm2 (which is what I use) Use your terminal app to ssh to stargate $ ssh username@stargate.cs.usfca.edu replacing username with your USF login ID. The password is your USF CWID. You should see: The authenticity of host &#39;remote-host&#39; can&#39;t be established... Are you sure you want to continue connecting? (yes/no) yes username@stargate $ Type ^D (CTRL-d) to exit the ssh session." />
<meta property="og:site_name" content="CS 221 - C and Systems Programming" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-01-19T01:26:15+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Lab01 - Environment Setup" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"/assignments/lab01.html"},"description":"Login to stargate Choose a terminal app for your laptop. There are many options but here are a few: Windows: Windows Terminal, PuTTY, Windows Subsystem for Linux (which is what I use) macOS: Apple’s built-in terminal.app, iTerm2 (which is what I use) Use your terminal app to ssh to stargate $ ssh username@stargate.cs.usfca.edu replacing username with your USF login ID. The password is your USF CWID. You should see: The authenticity of host &#39;remote-host&#39; can&#39;t be established... Are you sure you want to continue connecting? (yes/no) yes username@stargate $ Type ^D (CTRL-d) to exit the ssh session.","url":"/assignments/lab01.html","@type":"BlogPosting","headline":"Lab01 - Environment Setup","dateModified":"2022-01-19T01:26:15+00:00","datePublished":"2022-01-19T01:26:15+00:00","author":{"@type":"Person","name":"Phil Peterson"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="CS 221 - C and Systems Programming" /><head>
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">  
</head>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">CS 221 - C and Systems Programming</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/help/">Getting Help</a><a class="page-link" href="/syllabus/">Syllabus</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper"><h1 class="page-heading">Lab01 - Environment Setup</h1><div class="container">
  Due: 
  <span class="due-date">
    Mon, Jan 31, 2022 at 11:59 PM 
  </span>
  to <a href="https://classroom.github.com/a/hd8gWiyP">Github Classroom Assignment</a>
  <hr>
  <section id="main_content">
    <h2 id="login-to-stargate">Login to stargate</h2>
<ol>
  <li>Choose a terminal app for your laptop. There are many options but here are a few:
    <ul>
      <li>Windows: <a href="https://docs.microsoft.com/en-us/windows/terminal/tutorials/ssh">Windows Terminal</a>, <a href="https://www.putty.org/">PuTTY</a>, <a href="https://docs.microsoft.com/en-us/windows/wsl/install">Windows Subsystem for Linux</a> (which is what I use)</li>
      <li>macOS: Apple’s built-in terminal.app, <a href="https://iterm2.com/">iTerm2</a> (which is what I use)</li>
    </ul>
  </li>
  <li>Use your terminal app to <code class="language-plaintext highlighter-rouge">ssh</code> to stargate
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ ssh username@stargate.cs.usfca.edu
</code></pre></div>    </div>
    <p>replacing username with your USF login ID. The password is your USF CWID.
 You should see:</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> The authenticity of host 'remote-host' can't be established...
 Are you sure you want to continue connecting? (yes/no) yes
 username@stargate $
</code></pre></div>    </div>
    <p>Type <code class="language-plaintext highlighter-rouge">^D</code> (CTRL-d) to exit the <code class="language-plaintext highlighter-rouge">ssh</code> session.</p>
  </li>
</ol>

<h2 id="create-an-ssh-key-pair-if-you-dont-already-have-one">Create an ssh key pair (if you don’t already have one)</h2>
<ol>
  <li>Create an ssh key pair using this command in your terminal
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> me@mylaptop:~ <span class="nv">$ </span>ssh-keygen <span class="nt">-t</span> ed25519 <span class="nt">-C</span> <span class="s2">"your_email@example.com"</span>
</code></pre></div>    </div>
  </li>
  <li>You will be asked to provide a passphrase which is used to encrypt your private key. Do not forget this passphrase.</li>
  <li>
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> me@mylaptop:~ <span class="nv">$ </span><span class="nb">cd</span> ~/.ssh
 me@mylaptop:~/.ssh <span class="nv">$ </span><span class="nb">ls
 </span>id_ed25519
 id_ed25519.pub
</code></pre></div>    </div>
    <ul>
      <li>These are just text files and you can <code class="language-plaintext highlighter-rouge">cat</code> them to see their contents</li>
      <li><code class="language-plaintext highlighter-rouge">id_ed25519</code> is your private key. You should never upload that file to any servers, or give it to anyone.</li>
      <li><code class="language-plaintext highlighter-rouge">id_ed25519.pub</code> is your public key. This file can be uploaded to stargate and Github.com</li>
    </ul>
  </li>
  <li>Configure your laptop so your private key can be used to authenticate you on github.com
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> me@mylaptop:~/.ssh <span class="nv">$ </span><span class="nb">cat</span> <span class="o">&gt;</span>config
 Host <span class="k">*</span>
   ForwardAgent <span class="nb">yes</span>
 ^D
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="set-up-github-with-your-public-key">Set up Github with your public key</h2>
<ol>
  <li>Copy your public key to your laptop’s clipboard:
    <ul>
      <li>Windows Terminal: <code class="language-plaintext highlighter-rouge">$ type id_ed25519.pub | clip</code></li>
      <li>WSL: <code class="language-plaintext highlighter-rouge">$ cat id_ed25519.pub | xclip</code></li>
      <li>macOS: <code class="language-plaintext highlighter-rouge">$ cat id_ed25519.pub | pbcopy</code></li>
    </ul>
  </li>
  <li>Create an account on <a href="https://github.com/">github.com</a> if you don’t already have one.</li>
  <li>When logged into github.com go to Profile &gt; Settings &gt; SSH and GPG Keys and paste the contents of your public key</li>
  <li>Test your ssh access to github.com from your terminal app
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> me@mylaptop:~ <span class="nv">$ </span>ssh git@github.com
 Hi username! You<span class="s1">'ve successfully authenticated, but GitHub does not provide shell access.
 Connection to github.com closed.
</span></code></pre></div>    </div>
  </li>
</ol>

<h2 id="copy-your-public-key-to-stargate">Copy your public key to stargate</h2>
<ol>
  <li>From your terminal app
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> me@mylaptop:~ <span class="nv">$ </span>ssh-copy-id username@stargate.cs.usfca.edu
</code></pre></div>    </div>
  </li>
  <li>Test your ssh access to stargate
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> me@mylaptop:~ <span class="nv">$ </span>ssh username@stargate.cs.usfca.edu
 ...
 username@stargate:~ <span class="err">$</span>
</code></pre></div>    </div>
  </li>
  <li>Set up ssh forwarding from stargate to your laptop
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> username@stargate:~ <span class="nv">$ </span><span class="nb">cd</span> ~/.ssh
 username@stargate:~/.ssh <span class="nv">$ </span><span class="nb">cat</span> <span class="o">&gt;</span>config
 Host <span class="k">*</span>
   ForwardAgent <span class="nb">yes</span>
 ^D
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="choose-one-of-the-lab-systems-to-work-on">Choose one of the lab systems to work on</h2>
<ol>
  <li><strong>Do not do class work on the stargate host.</strong> SSH to one of the lab hosts listed by <code class="language-plaintext highlighter-rouge">rusers</code>
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> username@stargate:~ <span class="nv">$ </span>rusers
 ...
 username@stargate:~ <span class="nv">$ </span>ssh vlab01
 username@vlab01:~ <span class="nv">$ </span>
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="finally-some-code">Finally, some code</h2>
<ol>
  <li>Clone the assignment repository (“repo”) into your home directory
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> username@vlab01:~ <span class="nv">$ </span>git clone git@github.com:/cs221-s11/lab01-yourgithubid
 username@vlab01:~ <span class="nb">cd </span>lab01-yourgithubid
</code></pre></div>    </div>
  </li>
  <li>Compile the program
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> username@vlab01:lab01-yourgithubid <span class="nv">$ </span>gcc <span class="nt">-o</span> hello hello.c
</code></pre></div>    </div>
  </li>
  <li>Run the program
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> username@vlab01:lab01-yourgithubid <span class="nv">$ </span>./hello
 hello world
</code></pre></div>    </div>
  </li>
  <li>Edit <code class="language-plaintext highlighter-rouge">hello.c</code> and change <code class="language-plaintext highlighter-rouge">"hello world\n"</code> to <code class="language-plaintext highlighter-rouge">"hello cs221\n"</code> in lower case exactly as shown</li>
  <li>Save the file and recompile it</li>
  <li>Commit your changes to the local repo on the lab machine
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> username@vlab01:lab01-yourgithubid <span class="nv">$ </span>git commit <span class="nt">-m</span><span class="s2">"change world to cs221"</span> hello.c
</code></pre></div>    </div>
  </li>
  <li>Push your changes from the local repo to the remote repo on github.com
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> username@vlab01:lab01-yourgithubid <span class="nv">$ </span>git push
</code></pre></div>    </div>
  </li>
  <li><code class="language-plaintext highlighter-rouge">^D</code> to log out of the lab host, and again to log out of <code class="language-plaintext highlighter-rouge">stargate</code></li>
</ol>

  </section>
</div>

      </div>
    </main>

  </body>

</html>
